= 実装サンプル : じゃんけんアプリケーション

== 基本形


ポート アプリケーション境界の内外のやり取りに利用
ユースケース アプリケーション境界上の内側に存在
ユースケースをポート（アプリケーション境界そのもの）の一部とするか、ポートとは区切られた内側の層とするか？
＝＞ クリーンアーキテクチャだと、境界線そのものがユースケース層であり、入力／出力ポートとインターアクターが存在する。
よって、ポートの一部と見るのが自然っぽい。ただし、外側とやり取りするのは入出力ポートの役割

アプリケーション


== ドメイン駆動



参考 : レイヤーとしてドメインの考えも導入


不変のルール
じゃんけんの手
どの手がどの手に勝つか

アプリケーションとしての挙動
入力に対し何を行いどう出力するか
結果をどう記録するか


入力
人
CPU
テストハーネス

コンソール画面

出力

コンソール画面
戦歴 DB
ログファイル
モック



入力

ユーザ（ 2 ~ n 人）

人間

CPU が追加される可能性あり

テストハーネス

入力アダプタ

CUI アダプタ

テストハーネスアダプタ

その他 UI が追加される可能性あり

入力ポート

ユースケース

2 ~ n 人の入力を受け付けて、勝敗（引き分け含む）を出力

勝敗結果を戦歴として記録

勝者が複数いる場合は勝者に対して入力からの出力の流れを繰り返し

受付け可能な人数や終了条件などは変更される可能性あり

ドメイン

ユーザが選択できる手は 3 種類

どの手がどの手に勝てるか

出力ポート

出力アダプタ

CUI （勝敗出力）

DB （戦歴）

Mock DB （戦歴）
ターミナル出力のテスト用のモックは？


各種出力先は追加される可能性あり
